<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EDI: stream.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EDI
   &#160;<span id="projectnumber">4.25A</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('stream_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">stream.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * stream.c</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (c) 1997-2021 ETEL SA. All Rights Reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This software is the confidential and proprietary information of ETEL SA </span></div>
<div class="line"><span class="comment"> * (&quot;Confidential Information&quot;). You shall not disclose such Confidential </span></div>
<div class="line"><span class="comment"> * Information and shall use it only in accordance with the terms of the </span></div>
<div class="line"><span class="comment"> * license agreement you entered into with ETEL.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This software is provided &quot;AS IS&quot; without a warranty or representations of any kind. </span></div>
<div class="line"><span class="comment"> * ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND WARRANTIES, INCLUDING ANY IMPLIED WARRANTY </span></div>
<div class="line"><span class="comment"> * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT ARE HEREBY EXCLUDED. ETEL AND ITS </span></div>
<div class="line"><span class="comment"> * LICENSORS SHALL NOT BE LIABLE FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING </span></div>
<div class="line"><span class="comment"> * THE SOFTWARE OR ITS DERIVATIVES. IN NO EVENT WILL ETEL OR ITS LICENSORS BE LIABLE FOR ANY LOST REVENUE, PROFIT OR </span></div>
<div class="line"><span class="comment"> * DATA, OR FOR DIRECT, INDIRECT, SPECIAL, CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER CAUSED AND REGARDLESS </span></div>
<div class="line"><span class="comment"> * OF THE THEORY OF LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE SOFTWARE, EVEN IF ETEL HAS BEEN ADVISED OF </span></div>
<div class="line"><span class="comment"> * THE POSSIBILITY OF SUCH DAMAGES. THE ENTIRE RISK ARISING OUT OF USE, PERFORMANCE OR NON-PERFORMANCE OF THE SOFTWARE </span></div>
<div class="line"><span class="comment"> * REMAINS WITH THE LICENSEE. IF ETEL SHOULD NEVERTHELESS BE FOUND LIABLE, WHETER DIRECTLY OR INDRECTLY, FOR ANY LOSS, </span></div>
<div class="line"><span class="comment"> * DAMAGE OR INJURY ARISING UNDER THIS AGREEMENT OR OTHERWISE, REGARDLESS OF CAUSE OR ORIGIN, ON ANY BASIS WHATSOEVER, </span></div>
<div class="line"><span class="comment"> * ITS TOTAL MAXIMUM LIABILITY IS LIMITED TO CHF 100.000 WHICH WILL BE THE COMPLETE AND EXCLUSIVE REMEDY AGAINST ETEL.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"> * This software is in particular not designed or intended .for use in on-line control of aircraft, air traffic, aircraft </span></div>
<div class="line"><span class="comment"> * navigation or aircraft communications; or in the design, construction, Operation or maintenance of any nuclear facility. </span></div>
<div class="line"><span class="comment"> * Licensee represents and warrants that it will not use or redistribute the Software for such purposes.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This sample program show how to make &quot;stream&quot; transfer between PC and device.</span></div>
<div class="line"><span class="comment"> * Stream transfer allows to write or read a large amount of data into/from the device.</span></div>
<div class="line"><span class="comment"> * This type of transfer is mainly used when uploading traces or registers or when</span></div>
<div class="line"><span class="comment"> * downloading firmwares.</span></div>
<div class="line"><span class="comment"> * This sample allows the user to choose the communication bus and the connected devices.</span></div>
<div class="line"><span class="comment"> * No tests are done concerning the validity of the registers&#39;typ. For example, if is not possible to</span></div>
<div class="line"><span class="comment"> * write M registers, but this example doen no validity check</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*** Initialisation steps ***/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*** standard libraries ***/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span>  <span class="comment">/* the standard I/O library              */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">/* standard general purpose library      */</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctype.h&gt;</span>  <span class="comment">/* standard character conversion library */</span></div>
<div class="line"><span class="preprocessor">#include &lt;process.h&gt;</span><span class="comment">/* standard multithreading library       */</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span>   <span class="comment">/* standard math interface; used for random numbers here*/</span></div>
<div class="line"><span class="preprocessor">#include &lt;conio.h&gt;</span>  <span class="comment">/* standard library for getch()*/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/*** ETEL libraries ***/</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="dmd40_8h.html">dmd40.h</a>&gt;</span>  <span class="comment">/* EDI constants definitions             */</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="dsa40_8h.html">dsa40.h</a>&gt;</span>  <span class="comment">/* EDI high level library version 4.0x.  */</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="etb40_8h.html">etb40.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define NUM_AXIS 2</span></div>
<div class="line">ebool ultimETPresent;</div>
<div class="line"><span class="keywordtype">int</span> nbDevices;</div>
<div class="line">DSA_DEVICE *devices[NUM_AXIS + 1];</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Error handle function</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">void</span> errorHandle(<span class="keywordtype">int</span> a_iErr, DSA_DEVICE_BASE *a_pDevice, <span class="keyword">const</span> <span class="keywordtype">char</span>* a_sErrorMsg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> strError[1024];</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// System error that we &quot;catch&quot; with a_sErrorMsg parameter, if it is void it means this is an EDI error and</span></div>
<div class="line">    <span class="comment">// in this case a_iErr will give us the error message, this is the else branch scenario.</span></div>
<div class="line">    <span class="keywordflow">if</span> (a_sErrorMsg != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line">        sprintf(strError,<span class="stringliteral">&quot;System Error: &quot;</span>);</div>
<div class="line">        strcat(strError,a_sErrorMsg);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// EDI error.</span></div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (a_iErr &lt; 0) {</div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a0"></a><a class="code" href="group__DSAAll.html#ga4c0d5fdbe730802cb9c2d835d2f4e3ea">dsa_is_valid_device</a>(a_pDevice))</div>
<div class="line">                <a name="a1"></a><a class="code" href="group__DSAAll.html#ga398244f5b8938f6414c1a12538503ce0">dsa_sdiag</a>(strError, <span class="stringliteral">&quot;StreamingRegisterTransfer&quot;</span>, 0, a_iErr, a_pDevice);</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                sprintf(strError,<span class="stringliteral">&quot;Device is not detected.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            sprintf(strError,<span class="stringliteral">&quot;Undefined Error.&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">        </div>
<div class="line">    <span class="comment">// Print the error message in the stadard output error stream.</span></div>
<div class="line">    fprintf(stderr, strError);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Now we close each device (in case it is opened), and we destroy the devices and group.</span></div>
<div class="line">    <span class="comment">// Then we finish the execution with exit(1) --&gt; errors.</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; (ultimETPresent ? NUM_AXIS + 1 : NUM_AXIS); i++)    {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__DSAAll.html#ga4c0d5fdbe730802cb9c2d835d2f4e3ea">dsa_is_valid_device</a>(devices[i])) {</div>
<div class="line">            ebool bOpen = FALSE;</div>
<div class="line">            <a name="a2"></a><a class="code" href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a>(devices[i], &amp;bOpen);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(bOpen)</div>
<div class="line">                <a name="a3"></a><a class="code" href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a>(devices[i]);</div>
<div class="line">            </div>
<div class="line">            <a name="a4"></a><a class="code" href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a>(&amp;(devices[i]));</div>
<div class="line">            devices[i] = NULL;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            devices[i] = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    exit(1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Function which diplays the axis selection menu to execute the register transfer operations.</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line">DSA_DEVICE* ChooseDevice()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i, ichoice;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        fflush(stdin);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\n\nChoose Axis\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;****************\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; NUM_AXIS; i++)</div>
<div class="line">            printf(<span class="stringliteral">&quot;\t%d: Axis %d\n&quot;</span>, i, i);</div>
<div class="line">        <span class="keywordflow">if</span> (ultimETPresent)</div>
<div class="line">            printf(<span class="stringliteral">&quot;\t%d: UltimET\n&quot;</span>, i);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\t\tYour choice : &quot;</span>);</div>
<div class="line">        fflush(stdout);</div>
<div class="line">        scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;ichoice);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> ((ichoice &lt; 0) || (ichoice &gt;= nbDevices));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> devices[ichoice];</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ---------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * The user will be able to choose the connection mode of the Drive System: USB, AccurET TCP/IP, Ultimet TCP/IP or Ultimet PCI;</span></div>
<div class="line"><span class="comment"> * and the Drive Connection will be established.</span></div>
<div class="line"><span class="comment"> * --------------------------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">int</span> OpenConnection() </div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> sMode[64], sConnection[64], sIP[64];</div>
<div class="line">    <span class="keywordtype">char</span> choice;</div>
<div class="line">    <span class="keywordtype">int</span> err = 0;</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line">    ebool bOpen;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Display menu. We show the connection menu until a valid option is selected. */</span></div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        fflush(stdin);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\n\nChoose Connection Mode\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;******************\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t0: Exit\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t1: USB\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t2: AccurET TCP/IP\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t3: UltimET\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t4: UltimET TCP/IP\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\t\tYour choice : &quot;</span>);</div>
<div class="line">        fflush(stdout);</div>
<div class="line">        scanf(<span class="stringliteral">&quot;%c&quot;</span>, &amp;choice);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> ((choice != <span class="charliteral">&#39;1&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;2&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;3&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;4&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;0&#39;</span>));</div>
<div class="line"> </div>
<div class="line">    ultimETPresent = TRUE;</div>
<div class="line">    <span class="comment">/* Get connection mode */</span></div>
<div class="line">    <span class="keywordflow">switch</span>(choice) {</div>
<div class="line"><span class="comment">        /*** USB *********************************************************************/</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span> :</div>
<div class="line">            ultimETPresent = FALSE;</div>
<div class="line">            strcpy(sMode, <span class="stringliteral">&quot;USB&quot;</span>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="comment">        /*** TCP/IP ************************************************************************/</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span> :</div>
<div class="line">            ultimETPresent = FALSE;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span> :</div>
<div class="line">            printf(<span class="stringliteral">&quot;\n\t\t\tEnter IP : &quot;</span>);</div>
<div class="line">            fflush(stdout);</div>
<div class="line">            scanf(<span class="stringliteral">&quot;%s&quot;</span>, sIP);</div>
<div class="line">            strcpy(sMode, <span class="stringliteral">&quot;ETN://&quot;</span>);</div>
<div class="line">            strcat(sMode, sIP);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="comment">        /*** ULTIIMET **********************************************************************/</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span> :</div>
<div class="line">            strcpy(sMode, <span class="stringliteral">&quot;ULTIMET&quot;</span>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="comment">        /*** Exit ************************************************************************/</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span> :</div>
<div class="line">            ultimETPresent = FALSE;</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    nbDevices = NUM_AXIS;</div>
<div class="line">    <span class="comment">/* Create and open devices */</span> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; NUM_AXIS; i++) {</div>
<div class="line">        <span class="keywordflow">if</span>(!devices[i]) {</div>
<div class="line">            <span class="keywordflow">if</span> (err = <a name="a5"></a><a class="code" href="group__DSAAll.html#gabb207b622ef11d41d9dfadf965e77200">dsa_create_drive</a>(&amp;devices[i]))</div>
<div class="line">                errorHandle(err, devices[i],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            bOpen = FALSE;</div>
<div class="line">            <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a>(devices[i], &amp;bOpen))  </div>
<div class="line">                errorHandle(err, devices[i],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (!bOpen) {</div>
<div class="line">                sprintf(sConnection,<span class="stringliteral">&quot;etb:%s:%d&quot;</span>, sMode, i);</div>
<div class="line">                <span class="keywordflow">if</span> (err = <a name="a6"></a><a class="code" href="group__DSAAll.html#gac4f6cffd7dd579bcb9a7f60af5f6bb29">dsa_open_u</a>(devices[i], (<span class="keyword">const</span> <span class="keywordtype">char</span>*)(sConnection) ))</div>
<div class="line">                    errorHandle(err, devices[i],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ultimETPresent) {</div>
<div class="line">        nbDevices++;</div>
<div class="line">        <span class="keywordflow">if</span> (err = <a name="a7"></a><a class="code" href="group__DSAAll.html#gad5ae47cdd1e4e82e9c33c778b597bcf6">dsa_create_master</a>(&amp;devices[NUM_AXIS]))</div>
<div class="line">            errorHandle(err, devices[NUM_AXIS],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        bOpen = FALSE;</div>
<div class="line">        <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a>(devices[NUM_AXIS], &amp;bOpen))   </div>
<div class="line">            errorHandle(err, devices[NUM_AXIS],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!bOpen) {</div>
<div class="line">            sprintf(sConnection,<span class="stringliteral">&quot;etb:%s:*&quot;</span>, sMode);</div>
<div class="line">            <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#gac4f6cffd7dd579bcb9a7f60af5f6bb29">dsa_open_u</a>(devices[NUM_AXIS], (<span class="keyword">const</span> <span class="keywordtype">char</span>*)(sConnection) ))</div>
<div class="line">                errorHandle(err, devices[NUM_AXIS],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Get parameter from user</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">int</span> get_param_menu(<span class="keywordtype">char</span> *sRegParam) </div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> choice;</div>
<div class="line"> </div>
<div class="line">    fflush(stdin);</div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nEnter parameter :\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tX : User\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tK : Parameter\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tM : Monitor\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tT : Trace\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tA : Address\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tL : Lookup\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tE : Trigger\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tC : Common\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\t\tYour choice : &quot;</span>);</div>
<div class="line">        fflush(stdout);</div>
<div class="line">        scanf(<span class="stringliteral">&quot;%c&quot;</span>, &amp;choice);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> ((choice != <span class="charliteral">&#39;X&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;K&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;M&#39;</span>) &amp;&amp;</div>
<div class="line">           (choice != <span class="charliteral">&#39;T&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;A&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;L&#39;</span>) &amp;&amp;</div>
<div class="line">           (choice != <span class="charliteral">&#39;E&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;C&#39;</span>) &amp;&amp;</div>
<div class="line">           (choice != <span class="charliteral">&#39;x&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;k&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;m&#39;</span>) &amp;&amp;</div>
<div class="line">           (choice != <span class="charliteral">&#39;t&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;a&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;l&#39;</span>) &amp;&amp;</div>
<div class="line">           (choice != <span class="charliteral">&#39;e&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;c&#39;</span>) );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (choice) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;X&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a8"></a><a class="code" href="dmd40_8h.html#a0400c0e1e903e77f0b131cd18f26fe98">DMD_TYP_USER</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;K&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a9"></a><a class="code" href="dmd40_8h.html#a4085c4cab393d2105fe5b78c097b9a5f">DMD_TYP_PPK</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;M&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a10"></a><a class="code" href="dmd40_8h.html#a287ae8fdb45bbb440742a590b793d09f">DMD_TYP_MONITOR</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;T&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a11"></a><a class="code" href="dmd40_8h.html#a378c195d0c4fbd6834b4083043bfe31b">DMD_TYP_TRACE</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;A&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a12"></a><a class="code" href="dmd40_8h.html#a79beac4a95973b9aeafd69f3b5dc87ad">DMD_TYP_ADDRESS</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;L&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a13"></a><a class="code" href="dmd40_8h.html#a60f6ec54df303a474a6861ec4571579d">DMD_TYP_LKT</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;E&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a14"></a><a class="code" href="dmd40_8h.html#a0d939f37e3ebfa8670d2748e92da6e95">DMD_TYP_TRIGGER</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">            strcpy(sRegParam, <span class="stringliteral">&quot;C&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a15"></a><a class="code" href="dmd40_8h.html#ac67394d04b7104f1c84ab7a2df481e8b">DMD_TYP_COMMON</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Get parameter type from user</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">int</span> get_type_menu() </div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> choice;</div>
<div class="line"> </div>
<div class="line">    fflush(stdin);</div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nEnter type\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t1 : Integer 32 bits\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t2 : Integer 64 bits\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t3 : Float 32 bits\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t4 : Float 64 bits\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\t\tYour choice : &quot;</span>);</div>
<div class="line">        fflush(stdout);</div>
<div class="line">        scanf(<span class="stringliteral">&quot;%c&quot;</span>, &amp;choice);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> ((choice != <span class="charliteral">&#39;1&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;2&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;3&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;4&#39;</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (choice) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a16"></a><a class="code" href="dmd40_8h.html#a2cf1b93e3c22cbe4ad976754af28461d">DMD_TYP_64_BIT_MASK</a>; </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a17"></a><a class="code" href="dmd40_8h.html#ab4cfce15dff05870b9f1a978018361cb">DMD_TYP_FLOAT_BIT_MASK</a>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:;</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="dmd40_8h.html#a2cf1b93e3c22cbe4ad976754af28461d">DMD_TYP_64_BIT_MASK</a> | <a class="code" href="dmd40_8h.html#ab4cfce15dff05870b9f1a978018361cb">DMD_TYP_FLOAT_BIT_MASK</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Upload all specified data and put them into a file</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">void</span> uploadReg(DSA_DEVICE *dev, <span class="keywordtype">int</span> parType, <span class="keyword">const</span> <span class="keywordtype">char</span>* sRegParam, <span class="keywordtype">int</span> depth, <span class="keywordtype">int</span> iStartIdx, <span class="keywordtype">char</span> *fileName)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> buffer[1024];</div>
<div class="line">    <span class="keywordtype">char</span> sErrorMsg[1024];</div>
<div class="line">    <span class="keywordtype">int</span> axisNb;</div>
<div class="line">    <span class="keywordtype">int</span> err;</div>
<div class="line">    <span class="keywordtype">int</span> size = 1024;</div>
<div class="line">    <span class="keywordtype">int</span> iIdx = iStartIdx;</div>
<div class="line">    FILE *f;</div>
<div class="line">    <span class="keywordtype">char</span> choice[2] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    ebool binary;</div>
<div class="line">    DMD *dmd;</div>
<div class="line">    <span class="keywordtype">int</span> nbDepth;</div>
<div class="line">    <span class="keywordtype">int</span> currentDepth;</div>
<div class="line">    <span class="keywordtype">int</span> startDepth;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a18"></a><a class="code" href="group__DSAAll.html#gae8dc1c4b4133ac1b5724172757c972d0">dsa_etcom_get_etb_axis</a>(dev, &amp;axisNb)) {</div>
<div class="line">        sprintf(sErrorMsg, <span class="stringliteral">&quot;Error getting axis number\n&quot;</span>);</div>
<div class="line">        errorHandle(-1, dev, sErrorMsg);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Get the number of uploaded depth in the case where all depth are asked */</span></div>
<div class="line">    <span class="keywordflow">if</span> (depth == -1) {</div>
<div class="line">        <span class="keywordflow">if</span> (err = <a name="a19"></a><a class="code" href="group__DSAAll.html#ga6dee1bf8b1e05274ab549f488f91b602">dsa_get_dmd_data</a>(dev, &amp;dmd)) {</div>
<div class="line">            sprintf(sErrorMsg, <span class="stringliteral">&quot;Error getting dmd\n&quot;</span>);</div>
<div class="line">            errorHandle(-1, dev, sErrorMsg);</div>
<div class="line">        }</div>
<div class="line">        nbDepth = <a name="a20"></a><a class="code" href="group__DMDAll.html#ga7f643f153db1973beaf56188d8e78cef">dmd_get_number_of_subindexes</a>(dmd, parType, 0);</div>
<div class="line">        startDepth = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* In the case of X, the number of uploaded depth with stream are one less, because depth 0 */</span></div>
<div class="line">        <span class="comment">/* is the same than depth 1 */</span></div>
<div class="line">        <span class="keywordflow">if</span> (parType == <a class="code" href="dmd40_8h.html#a0400c0e1e903e77f0b131cd18f26fe98">DMD_TYP_USER</a>) {</div>
<div class="line">            startDepth = 1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        nbDepth = 1;</div>
<div class="line">        startDepth = depth;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nBinary file (Y if must be re-downloaded using stream) : [Y/N] ? &quot;</span>);</div>
<div class="line">        fflush(stdout);</div>
<div class="line">        scanf(<span class="stringliteral">&quot;%s&quot;</span>, choice);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> ((*choice != <span class="charliteral">&#39;Y&#39;</span>) &amp;&amp; (*choice != <span class="charliteral">&#39;y&#39;</span>) &amp;&amp; (*choice != <span class="charliteral">&#39;N&#39;</span>) &amp;&amp; (*choice != <span class="charliteral">&#39;n&#39;</span>));</div>
<div class="line"> </div>
<div class="line">    binary = (*choice == <span class="charliteral">&#39;Y&#39;</span>) || (*choice == <span class="charliteral">&#39;y&#39;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (binary) {</div>
<div class="line">        <span class="comment">/* Open file */</span></div>
<div class="line">        <span class="keywordflow">if</span> (!(f = fopen(fileName, <span class="stringliteral">&quot;wb&quot;</span>))) {</div>
<div class="line">             sprintf(sErrorMsg, <span class="stringliteral">&quot;Error creating file %s\n&quot;</span>, fileName);</div>
<div class="line">             errorHandle(-1, dev, sErrorMsg);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Open file */</span></div>
<div class="line">        <span class="keywordflow">if</span> (!(f = fopen(fileName, <span class="stringliteral">&quot;w&quot;</span>))) {</div>
<div class="line">             sprintf(sErrorMsg, <span class="stringliteral">&quot;Error creating file %s\n&quot;</span>, fileName);</div>
<div class="line">             errorHandle(-1, dev, sErrorMsg);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    currentDepth = startDepth;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Upload data in 1024 bytes buffer until no more data are retrieved */</span></div>
<div class="line">    <span class="keywordflow">while</span> ((err = <a name="a21"></a><a class="code" href="group__DSAAll.html#ga40a36941fa968527a6e54e2b4cee94ff">dsa_upload_data_s</a>(dev, buffer, size, 100000)) &gt; 0) {</div>
<div class="line">        <span class="keywordflow">if</span> (binary) {</div>
<div class="line">            fwrite(buffer, 1, err, f);           </div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">switch</span> (parType &amp; (<a class="code" href="dmd40_8h.html#a2cf1b93e3c22cbe4ad976754af28461d">DMD_TYP_64_BIT_MASK</a> | <a class="code" href="dmd40_8h.html#ab4cfce15dff05870b9f1a978018361cb">DMD_TYP_FLOAT_BIT_MASK</a>)) {</div>
<div class="line">                <span class="keywordflow">case</span> 0:</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">int</span> *p;</div>
<div class="line">                    <span class="keywordflow">for</span> (p = (<span class="keywordtype">int</span>*)buffer; (<span class="keywordtype">char</span>*)p-buffer &lt; err; p++) {</div>
<div class="line">                        <span class="keywordflow">if</span> (axisNb == 63)</div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;*%s%d:%d=%d\n&quot;</span>, sRegParam, iIdx, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;%s%d.%d:%d=%d\n&quot;</span>, sRegParam, iIdx, axisNb, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">if</span> (++currentDepth &gt;= nbDepth) {</div>
<div class="line">                            currentDepth = startDepth;</div>
<div class="line">                            iIdx++;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="dmd40_8h.html#ab4cfce15dff05870b9f1a978018361cb">DMD_TYP_FLOAT_BIT_MASK</a>:</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">float</span> *p;</div>
<div class="line">                    <span class="keywordflow">for</span> (p = (<span class="keywordtype">float</span>*)buffer; (<span class="keywordtype">char</span>*)p-buffer &lt; err; p++) {</div>
<div class="line">                        <span class="keywordflow">if</span> (axisNb == 63)</div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;*%sF%d:%d=%f\n&quot;</span>, sRegParam, iIdx, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;%sF%d.%d:%d=%f\n&quot;</span>, sRegParam, iIdx, currentDepth, depth, *p);</div>
<div class="line">                        <span class="keywordflow">if</span> (++currentDepth &gt;= nbDepth) {</div>
<div class="line">                            currentDepth = startDepth;</div>
<div class="line">                            iIdx++;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="dmd40_8h.html#a2cf1b93e3c22cbe4ad976754af28461d">DMD_TYP_64_BIT_MASK</a>:</div>
<div class="line">                {</div>
<div class="line">                    eint64 *p;</div>
<div class="line">                    <span class="keywordflow">for</span> (p = (eint64*)buffer; (<span class="keywordtype">char</span>*)p-buffer &lt; err; p++) {</div>
<div class="line">                        <span class="keywordflow">if</span> (axisNb == 63)</div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;*%sL%d:%d=%lld\n&quot;</span>, sRegParam, iIdx, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;%sL%d.%d:%d=%lld\n&quot;</span>, sRegParam, iIdx, axisNb, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">if</span> (++currentDepth &gt;= nbDepth) {</div>
<div class="line">                            currentDepth = startDepth;</div>
<div class="line">                            iIdx++;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="dmd40_8h.html#a2cf1b93e3c22cbe4ad976754af28461d">DMD_TYP_64_BIT_MASK</a> | <a class="code" href="dmd40_8h.html#ab4cfce15dff05870b9f1a978018361cb">DMD_TYP_FLOAT_BIT_MASK</a>:</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">double</span> *p;</div>
<div class="line">                    <span class="keywordflow">for</span> (p = (<span class="keywordtype">double</span>*)buffer; (<span class="keywordtype">char</span>*)p-buffer &lt; err; p++) {</div>
<div class="line">                        <span class="keywordflow">if</span> (axisNb == 63)</div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;*%sD%d:%d=%lf\n&quot;</span>, sRegParam, iIdx, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                            fprintf(f, <span class="stringliteral">&quot;%sD%d.%d:%d=%lf\n&quot;</span>, sRegParam, iIdx, axisNb, currentDepth, *p);</div>
<div class="line">                        <span class="keywordflow">if</span> (++currentDepth &gt;= nbDepth) {</div>
<div class="line">                            currentDepth = startDepth;</div>
<div class="line">                            iIdx++;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    fclose(f);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line">        errorHandle(err,dev,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Download all register data from file in our device</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">void</span> downloadReg(DSA_DEVICE *pDev, <span class="keywordtype">char</span> *fileName) </div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> buffer[1024];</div>
<div class="line">    <span class="keywordtype">char</span> sErrorMsg[1024];</div>
<div class="line">    <span class="keywordtype">int</span> size = 1024;</div>
<div class="line">    <span class="keywordtype">int</span> err = 0;</div>
<div class="line">    <span class="keywordtype">int</span> nb;</div>
<div class="line">    ebool bCopyFlag;</div>
<div class="line">    FILE *f;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Open file for read */</span></div>
<div class="line">    <span class="keywordflow">if</span> (!(f = fopen(fileName, <span class="stringliteral">&quot;rb&quot;</span>))) {</div>
<div class="line">         sprintf(sErrorMsg, <span class="stringliteral">&quot;Error creating file %s\n&quot;</span>, fileName);</div>
<div class="line">         errorHandle(-1, pDev, sErrorMsg);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    bCopyFlag = FALSE;</div>
<div class="line">    <span class="comment">/* Read data from file in a buffer of 1024 bytes until end of file is reached */</span></div>
<div class="line">    <span class="keywordflow">while</span> (nb = (<span class="keywordtype">int</span>)fread(buffer, 1, size, f)) {</div>
<div class="line">        <span class="comment">/* read Error */</span></div>
<div class="line">        <span class="keywordflow">if</span> (nb == -1) {</div>
<div class="line">            fclose(f);</div>
<div class="line">            sprintf(sErrorMsg, <span class="stringliteral">&quot;Error reading from file.\n&quot;</span>);</div>
<div class="line">            errorHandle(-1, pDev, sErrorMsg);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/* Download data */</span></div>
<div class="line">        <span class="keywordflow">if</span> (err = <a name="a22"></a><a class="code" href="group__DSAAll.html#ga54ef747195f20fa41bc4d1face991b8a">dsa_download_data_s</a>(pDev, buffer, nb, 10000)) {</div>
<div class="line">            fclose(f);</div>
<div class="line">            errorHandle(err, pDev,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* terminate download process */</span></div>
<div class="line">    <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#ga54ef747195f20fa41bc4d1face991b8a">dsa_download_data_s</a>(pDev, NULL, 0, 10000)) {</div>
<div class="line">        fclose(f);</div>
<div class="line">        errorHandle(err, pDev, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fclose(f);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Get all input need to upload parameters from user and upload parameter</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">void</span> upload_parameter(DSA_DEVICE *pDev) </div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> fileName[512];</div>
<div class="line">    <span class="keywordtype">int</span> parType;</div>
<div class="line">    <span class="keywordtype">int</span> parDepth;</div>
<div class="line">    <span class="keywordtype">int</span> startIdx;</div>
<div class="line">    <span class="keywordtype">int</span> endIdx;</div>
<div class="line">    <span class="keywordtype">int</span> err;</div>
<div class="line">    <span class="keywordtype">char</span> sRegParam[2] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    <span class="keywordtype">char</span> sAxis[2] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    <span class="keywordtype">char</span> sRegIdx[5] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* get needed inputs from user */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Enter file name : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%s&quot;</span>, fileName);</div>
<div class="line">    parType = get_param_menu(sRegParam);</div>
<div class="line">    parType |= get_type_menu();</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nEnter parameter depth : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;parDepth);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nEnter start index : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;startIdx);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nEnter end index (included): &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;endIdx);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a23"></a><a class="code" href="group__DSAAll.html#ga603017355a50e4fdd1856bb88bce77d9">dsa_start_upload_register_s</a>(pDev, parType, startIdx, endIdx, parDepth, 1000))</div>
<div class="line">        errorHandle(err, pDev, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    uploadReg(pDev, parType, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)sRegParam, parDepth, startIdx, fileName);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Get all input need to download parameters from user and download parameter</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">void</span> download_parameter(DSA_DEVICE *pDev) </div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> fileName[512];</div>
<div class="line">    <span class="keywordtype">int</span> parType;</div>
<div class="line">    <span class="keywordtype">int</span> parDepth;</div>
<div class="line">    <span class="keywordtype">int</span> startIdx;</div>
<div class="line">    <span class="keywordtype">int</span> endIdx;</div>
<div class="line">    <span class="keywordtype">int</span> err;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">char</span> sRegParam[2] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* get needed inputs from user */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Enter file name : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%s&quot;</span>, fileName);</div>
<div class="line">    parType = get_param_menu(sRegParam);</div>
<div class="line">    parType |= get_type_menu();</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nEnter parameter depth : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;parDepth);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nEnter start index : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;startIdx);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nEnter end index : &quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line">    scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;endIdx);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* start download parameters */</span></div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a24"></a><a class="code" href="group__DSAAll.html#ga68ac948efca1bd47295007776df86e0d">dsa_start_download_register_s</a>(pDev, parType, startIdx, endIdx, parDepth, 1000)) {</div>
<div class="line">        errorHandle(err, pDev, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* download parameter file */</span></div>
<div class="line">    downloadReg(pDev, fileName);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">void</span> RegisterTransfer()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> choice;</div>
<div class="line">    DSA_DEVICE *device;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Display menu */</span></div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            fflush(stdin);</div>
<div class="line">            printf(<span class="stringliteral">&quot;\n\n\nChoose Action:\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;******************\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;\t0: Exit\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;\t1: Upload Registers to file.\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;\t2: Download Registers from file.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            printf(<span class="stringliteral">&quot;\n\t\tYour choice : &quot;</span>);</div>
<div class="line">            fflush(stdout);</div>
<div class="line">            scanf(<span class="stringliteral">&quot;%c&quot;</span>, &amp;choice);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">while</span> ((choice != <span class="charliteral">&#39;1&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;2&#39;</span>) &amp;&amp; (choice != <span class="charliteral">&#39;0&#39;</span>));</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span>(choice)  {</div>
<div class="line">            <span class="comment">// Upload Registers to file</span></div>
<div class="line">            <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line">                device = ChooseDevice();</div>
<div class="line">                upload_parameter(device);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Download Registers from file</span></div>
<div class="line">            <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line">                device = ChooseDevice();</div>
<div class="line">                download_parameter(device);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">//Exit</span></div>
<div class="line">            <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Close connection and destroy devices &amp; group</span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CloseConnection()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> err, i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nbDevices; i++) {</div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code" href="group__DSAAll.html#ga4c0d5fdbe730802cb9c2d835d2f4e3ea">dsa_is_valid_device</a>(devices[i])) {</div>
<div class="line">            <span class="comment">/* Is the communication open ? */</span></div>
<div class="line">            ebool bOpen = FALSE;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a>(devices[i], &amp;bOpen))</div>
<div class="line">                errorHandle(err, devices[i], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(bOpen)</div>
<div class="line">                <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a>(devices[i]))</div>
<div class="line">                    errorHandle(err,devices[i],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a>(&amp;(devices[i])))</div>
<div class="line">                errorHandle(err,devices[i],<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            devices[i] = NULL;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            devices[i] = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment">/* -------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> * Main Function </span></div>
<div class="line"><span class="comment"> * -------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span>(;;) {</div>
<div class="line">        <span class="comment">/* Choose Connection Mode &amp; open Drive Connection.*/</span></div>
<div class="line">        <span class="keywordflow">if</span> (!OpenConnection())</div>
<div class="line">            exit(0);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Execute the upload or download of registers */</span></div>
<div class="line">        RegisterTransfer();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Close connection and destroy devices*/</span></div>
<div class="line">        CloseConnection();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__DSAAll_html_gae8dc1c4b4133ac1b5724172757c972d0"><div class="ttname"><a href="group__DSAAll.html#gae8dc1c4b4133ac1b5724172757c972d0">dsa_etcom_get_etb_axis</a></div><div class="ttdeci">int dsa_etcom_get_etb_axis(DSA_DEVICE *dev, int *axis)</div><div class="ttdoc">Get the etb bus axis number of this device.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1869</div></div>
<div class="ttc" id="aetb40_8h_html"><div class="ttname"><a href="etb40_8h.html">etb40.h</a></div><div class="ttdoc">EDI-Version : 4.25A This header file contains public declaration for etel-bus library.</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga398244f5b8938f6414c1a12538503ce0"><div class="ttname"><a href="group__DSAAll.html#ga398244f5b8938f6414c1a12538503ce0">dsa_sdiag</a></div><div class="ttdeci">int dsa_sdiag(char_p str, char_cp file_name, int line, int err, DSA_DEVICE_BASE *dev)</div><div class="ttdoc">Put a diagnostic error message in a string.</div><div class="ttdef"><b>Definition:</b> dsagen.c:5946</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga603017355a50e4fdd1856bb88bce77d9"><div class="ttname"><a href="group__DSAAll.html#ga603017355a50e4fdd1856bb88bce77d9">dsa_start_upload_register_s</a></div><div class="ttdeci">int dsa_start_upload_register_s(DSA_DEVICE *dev, int typ, int start_idx, int end_idx, int sidx, long timeout)</div><div class="ttdoc">Start a upload a register set (Command:SUP) - synchronous.</div><div class="ttdef"><b>Definition:</b> dsagen.c:6588</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga40a36941fa968527a6e54e2b4cee94ff"><div class="ttname"><a href="group__DSAAll.html#ga40a36941fa968527a6e54e2b4cee94ff">dsa_upload_data_s</a></div><div class="ttdeci">int dsa_upload_data_s(DSA_DEVICE *dev, void *data, size_t size, int timeout)</div><div class="ttdoc">Upload a data chunk.</div><div class="ttdef"><b>Definition:</b> dsagen.c:6844</div></div>
<div class="ttc" id="admd40_8h_html_a60f6ec54df303a474a6861ec4571579d"><div class="ttname"><a href="dmd40_8h.html#a60f6ec54df303a474a6861ec4571579d">DMD_TYP_LKT</a></div><div class="ttdeci">#define DMD_TYP_LKT</div><div class="ttdoc">movement lookup tables</div><div class="ttdef"><b>Definition:</b> dmd40.h:691</div></div>
<div class="ttc" id="admd40_8h_html_ab4cfce15dff05870b9f1a978018361cb"><div class="ttname"><a href="dmd40_8h.html#ab4cfce15dff05870b9f1a978018361cb">DMD_TYP_FLOAT_BIT_MASK</a></div><div class="ttdeci">#define DMD_TYP_FLOAT_BIT_MASK</div><div class="ttdoc">mask applied on a byte representing a type to obtain the float bit</div><div class="ttdef"><b>Definition:</b> dmd40.h:680</div></div>
<div class="ttc" id="admd40_8h_html"><div class="ttname"><a href="dmd40_8h.html">dmd40.h</a></div><div class="ttdoc">EDI-Version : 4.25A This header file contains public declaration for drive meta-data library.</div></div>
<div class="ttc" id="admd40_8h_html_a378c195d0c4fbd6834b4083043bfe31b"><div class="ttname"><a href="dmd40_8h.html#a378c195d0c4fbd6834b4083043bfe31b">DMD_TYP_TRACE</a></div><div class="ttdeci">#define DMD_TYP_TRACE</div><div class="ttdoc">trace buffer</div><div class="ttdef"><b>Definition:</b> dmd40.h:689</div></div>
<div class="ttc" id="admd40_8h_html_a2cf1b93e3c22cbe4ad976754af28461d"><div class="ttname"><a href="dmd40_8h.html#a2cf1b93e3c22cbe4ad976754af28461d">DMD_TYP_64_BIT_MASK</a></div><div class="ttdeci">#define DMD_TYP_64_BIT_MASK</div><div class="ttdoc">mask applied on a byte representing a type to obtain the 64 bit</div><div class="ttdef"><b>Definition:</b> dmd40.h:681</div></div>
<div class="ttc" id="admd40_8h_html_a0400c0e1e903e77f0b131cd18f26fe98"><div class="ttname"><a href="dmd40_8h.html#a0400c0e1e903e77f0b131cd18f26fe98">DMD_TYP_USER</a></div><div class="ttdeci">#define DMD_TYP_USER</div><div class="ttdoc">user registers</div><div class="ttdef"><b>Definition:</b> dmd40.h:685</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga67a49a697906d25519c124c191a5654a"><div class="ttname"><a href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a></div><div class="ttdeci">int dsa_destroy(DSA_DEVICE_BASE **rdev)</div><div class="ttdoc">Destroy the dsa structure.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:932</div></div>
<div class="ttc" id="admd40_8h_html_a0d939f37e3ebfa8670d2748e92da6e95"><div class="ttname"><a href="dmd40_8h.html#a0d939f37e3ebfa8670d2748e92da6e95">DMD_TYP_TRIGGER</a></div><div class="ttdeci">#define DMD_TYP_TRIGGER</div><div class="ttdoc">triggers buffer</div><div class="ttdef"><b>Definition:</b> dmd40.h:692</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga54ef747195f20fa41bc4d1face991b8a"><div class="ttname"><a href="group__DSAAll.html#ga54ef747195f20fa41bc4d1face991b8a">dsa_download_data_s</a></div><div class="ttdeci">int dsa_download_data_s(DSA_DEVICE_BASE *grp, const void *data, size_t size, int timeout)</div><div class="ttdoc">Download a data chunk.</div><div class="ttdef"><b>Definition:</b> dsagen.c:6793</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga68ac948efca1bd47295007776df86e0d"><div class="ttname"><a href="group__DSAAll.html#ga68ac948efca1bd47295007776df86e0d">dsa_start_download_register_s</a></div><div class="ttdeci">int dsa_start_download_register_s(DSA_DEVICE_BASE *grp, int typ, int start_idx, int end_idx, int sidx, long timeout)</div><div class="ttdoc">Start a download of a set of parameters - synchronous.</div><div class="ttdef"><b>Definition:</b> dsagen.c:6518</div></div>
<div class="ttc" id="admd40_8h_html_a287ae8fdb45bbb440742a590b793d09f"><div class="ttname"><a href="dmd40_8h.html#a287ae8fdb45bbb440742a590b793d09f">DMD_TYP_MONITOR</a></div><div class="ttdeci">#define DMD_TYP_MONITOR</div><div class="ttdoc">monitoring registers</div><div class="ttdef"><b>Definition:</b> dmd40.h:687</div></div>
<div class="ttc" id="admd40_8h_html_a4085c4cab393d2105fe5b78c097b9a5f"><div class="ttname"><a href="dmd40_8h.html#a4085c4cab393d2105fe5b78c097b9a5f">DMD_TYP_PPK</a></div><div class="ttdeci">#define DMD_TYP_PPK</div><div class="ttdoc">drive parameters</div><div class="ttdef"><b>Definition:</b> dmd40.h:686</div></div>
<div class="ttc" id="agroup__DSAAll_html_gabb207b622ef11d41d9dfadf965e77200"><div class="ttname"><a href="group__DSAAll.html#gabb207b622ef11d41d9dfadf965e77200">dsa_create_drive</a></div><div class="ttdeci">int dsa_create_drive(DSA_DRIVE **rdrv)</div><div class="ttdoc">Create the dsa drive structure.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:639</div></div>
<div class="ttc" id="agroup__DSAAll_html_gad5ae47cdd1e4e82e9c33c778b597bcf6"><div class="ttname"><a href="group__DSAAll.html#gad5ae47cdd1e4e82e9c33c778b597bcf6">dsa_create_master</a></div><div class="ttdeci">int dsa_create_master(DSA_MASTER **rmaster)</div><div class="ttdoc">Create the dsa master structure.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:688</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga6dee1bf8b1e05274ab549f488f91b602"><div class="ttname"><a href="group__DSAAll.html#ga6dee1bf8b1e05274ab549f488f91b602">dsa_get_dmd_data</a></div><div class="ttdeci">int dsa_get_dmd_data(DSA_DEVICE *dev, DMD **dmd)</div><div class="ttdoc">Get the dmd data pointer of this device.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1829</div></div>
<div class="ttc" id="agroup__DMDAll_html_ga7f643f153db1973beaf56188d8e78cef"><div class="ttname"><a href="group__DMDAll.html#ga7f643f153db1973beaf56188d8e78cef">dmd_get_number_of_subindexes</a></div><div class="ttdeci">int dmd_get_number_of_subindexes(DMD *dmd, int typ, int eindex)</div><div class="ttdoc">Get the number of subindexes for the specified index.</div><div class="ttdef"><b>Definition:</b> dmdreg.c:1341</div></div>
<div class="ttc" id="admd40_8h_html_ac67394d04b7104f1c84ab7a2df481e8b"><div class="ttname"><a href="dmd40_8h.html#ac67394d04b7104f1c84ab7a2df481e8b">DMD_TYP_COMMON</a></div><div class="ttdeci">#define DMD_TYP_COMMON</div><div class="ttdoc">common register</div><div class="ttdef"><b>Definition:</b> dmd40.h:696</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga96470cb9eaebf9228ce362404fbe0078"><div class="ttname"><a href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a></div><div class="ttdeci">int dsa_close(DSA_DEVICE *dev)</div><div class="ttdoc">Close a dsa device object.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1654</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga4c0d5fdbe730802cb9c2d835d2f4e3ea"><div class="ttname"><a href="group__DSAAll.html#ga4c0d5fdbe730802cb9c2d835d2f4e3ea">dsa_is_valid_device</a></div><div class="ttdeci">ebool dsa_is_valid_device(DSA_DEVICE *dev)</div><div class="ttdoc">Check if the given pointer is a valid device pointer.</div><div class="ttdef"><b>Definition:</b> dsagrp.c:1241</div></div>
<div class="ttc" id="agroup__DSAAll_html_gac4f6cffd7dd579bcb9a7f60af5f6bb29"><div class="ttname"><a href="group__DSAAll.html#gac4f6cffd7dd579bcb9a7f60af5f6bb29">dsa_open_u</a></div><div class="ttdeci">int dsa_open_u(DSA_DEVICE *dev, char_cp url)</div><div class="ttdoc">Open a dsa device object.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1100</div></div>
<div class="ttc" id="admd40_8h_html_a79beac4a95973b9aeafd69f3b5dc87ad"><div class="ttname"><a href="dmd40_8h.html#a79beac4a95973b9aeafd69f3b5dc87ad">DMD_TYP_ADDRESS</a></div><div class="ttdeci">#define DMD_TYP_ADDRESS</div><div class="ttdoc">address value</div><div class="ttdef"><b>Definition:</b> dmd40.h:690</div></div>
<div class="ttc" id="adsa40_8h_html"><div class="ttname"><a href="dsa40_8h.html">dsa40.h</a></div><div class="ttdoc">EDI-Version : 4.25A This header file contains public declarations for the high level library.</div></div>
<div class="ttc" id="agroup__DSAAll_html_gabca5df9b7fb98299c620827b88bb733c"><div class="ttname"><a href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a></div><div class="ttdeci">int dsa_is_open(DSA_DEVICE *dev, ebool *is_open)</div><div class="ttdoc">Return true if the device is open.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1700</div></div>
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright by <a href="http://www.etel.ch"><img class="footer" src="ETELLogo.gif" width="104" height="31" alt="ETEL"/></a> on Thu Aug 26 2021 </li>
  </ul>
</div>
</body>
</html>
