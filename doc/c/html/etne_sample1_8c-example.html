<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EDI: etne_sample1.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EDI
   &#160;<span id="projectnumber">4.25A</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('etne_sample1_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">etne_sample1.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * etne_sample.c</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (c) 1997-2021 ETEL SA. All Rights Reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This software is the confidential and proprietary information of ETEL SA </span></div>
<div class="line"><span class="comment"> * (&quot;Confidential Information&quot;). You shall not disclose such Confidential </span></div>
<div class="line"><span class="comment"> * Information and shall use it only in accordance with the terms of the </span></div>
<div class="line"><span class="comment"> * license agreement you entered into with ETEL.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This software is provided &quot;AS IS&quot; without a warranty or representations of any kind. </span></div>
<div class="line"><span class="comment"> * ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND WARRANTIES, INCLUDING ANY IMPLIED WARRANTY </span></div>
<div class="line"><span class="comment"> * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT ARE HEREBY EXCLUDED. ETEL AND ITS </span></div>
<div class="line"><span class="comment"> * LICENSORS SHALL NOT BE LIABLE FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING </span></div>
<div class="line"><span class="comment"> * THE SOFTWARE OR ITS DERIVATIVES. IN NO EVENT WILL ETEL OR ITS LICENSORS BE LIABLE FOR ANY LOST REVENUE, PROFIT OR </span></div>
<div class="line"><span class="comment"> * DATA, OR FOR DIRECT, INDIRECT, SPECIAL, CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER CAUSED AND REGARDLESS </span></div>
<div class="line"><span class="comment"> * OF THE THEORY OF LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE SOFTWARE, EVEN IF ETEL HAS BEEN ADVISED OF </span></div>
<div class="line"><span class="comment"> * THE POSSIBILITY OF SUCH DAMAGES. THE ENTIRE RISK ARISING OUT OF USE, PERFORMANCE OR NON-PERFORMANCE OF THE SOFTWARE </span></div>
<div class="line"><span class="comment"> * REMAINS WITH THE LICENSEE. IF ETEL SHOULD NEVERTHELESS BE FOUND LIABLE, WHETER DIRECTLY OR INDRECTLY, FOR ANY LOSS, </span></div>
<div class="line"><span class="comment"> * DAMAGE OR INJURY ARISING UNDER THIS AGREEMENT OR OTHERWISE, REGARDLESS OF CAUSE OR ORIGIN, ON ANY BASIS WHATSOEVER, </span></div>
<div class="line"><span class="comment"> * ITS TOTAL MAXIMUM LIABILITY IS LIMITED TO CHF 100.000 WHICH WILL BE THE COMPLETE AND EXCLUSIVE REMEDY AGAINST ETEL.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"> * This software is in particular not designed or intended .for use in on-line control of aircraft, air traffic, aircraft </span></div>
<div class="line"><span class="comment"> * navigation or aircraft communications; or in the design, construction, Operation or maintenance of any nuclear facility. </span></div>
<div class="line"><span class="comment"> * Licensee represents and warrants that it will not use or redistribute the Software for such purposes.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/***************************************************************************************</span></div>
<div class="line"><span class="comment"> * This software is an example which show the way to implement the following things:</span></div>
<div class="line"><span class="comment"> *      1)  The way to open several connection on an UltimET PCI using ETNE server</span></div>
<div class="line"><span class="comment"> *      2)  How to use the new DSA_EXT_DIAG for extended diagnostic in case of error</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  Remark: The EDI package must be greater or equal to 4.00A !!!</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">***************************************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Windows.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;conio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dsa40_8h.html">dsa40.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="etne40_8h.html">etne40.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SHORT_TIMEOUT       2000</span></div>
<div class="line"><span class="preprocessor">#define MEDIUM_TIMEOUT      10000</span></div>
<div class="line"><span class="preprocessor">#define LONG_TIMEOUT        60000       </span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ETNE definition */</span></div>
<div class="line"><span class="preprocessor">#define HOST_CONNEXION_PORT     1146                        </span><span class="comment">/* The port allowing a host connexion through UltimET*/</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define HOST_CONNEXION_NAME     &quot;CUSTOMER DEBUG&quot;            </span><span class="comment">/* The name of the connexion which will be displayed in the ComET host list*/</span><span class="preprocessor"></span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/****** IMPORTANT NOTICE ******</span></div>
<div class="line"><span class="comment">THE 2nd LINE OF port.properties IN THE BIN FOLDER OF COMET NEEDS TO MODIFY LIKETHIS:</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">port.number=6</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">THE FOLLOWING LINES NEED TO BE ADDED AT THE BOTTOM IN THE port.properties IN THE BIN FOLDER OF COMET:</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">#parameters of port 5</span></div>
<div class="line"><span class="comment">port.5.name=CUSTOMER DEBUG</span></div>
<div class="line"><span class="comment">port.5.driver=etn://localhost:1146          </span></div>
<div class="line"><span class="comment">port.5.protocol=ETB</span></div>
<div class="line"><span class="comment">port.5.accept.0.driver=ETN:0</span></div>
<div class="line"><span class="comment">port.5.start=auto</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">****** END OF IMPORTANT NOTICE ******/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Static variables */</span></div>
<div class="line"><span class="keyword">static</span> ETB *etb = NULL; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> etne_stop (<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a name="a0"></a><a class="code" href="group__ETNEAll.html#gabd97b49619cae9e5fb64d1912b6e4f8f">etne_stop_custom</a>(etb, HOST_CONNEXION_PORT);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Debug port has closed.\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Communication with ComET is loss if already connected!\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> deploy_status(DSA_DEVICE *dev, <a name="_a1"></a><a class="code" href="unionDSA__STATUS.html">DSA_STATUS</a> *stat) </div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a2"></a><a class="code" href="group__DSAAll.html#ga989fc7fbd7d3b76cb0e3853aca34d4f7">dsa_is_valid_drive</a>(dev)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Drive status: SW1:0x%x, SW2:0x%x\n&quot;</span>, stat-&gt;<a name="a3"></a><a class="code" href="unionDSA__STATUS.html#a0968f77ec4842c58fd37e6d14a950e3e">raw</a>.<a name="a4"></a><a class="code" href="structDsaStatusRawMode.html#a133c78e19a45d216870508c2e8bdb3d4">sw1</a>, stat-&gt;<a class="code" href="unionDSA__STATUS.html#a0968f77ec4842c58fd37e6d14a950e3e">raw</a>.<a name="a5"></a><a class="code" href="structDsaStatusRawMode.html#a5f8132c87ec2db67d48c175184a6b52f">sw2</a>);</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">        //This piece of code will show the status in expanded way</span></div>
<div class="line"><span class="comment">        printf(&quot;\tPOWER ON: %1d\n&quot;, stat-&gt;drive.power_on);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tPRESENT: %1d\n&quot;,  stat-&gt;drive.present);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tMOVING: %1d\n&quot;,   stat-&gt;drive.moving);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tIN WINDOW: %1d\n&quot;, stat-&gt;drive.in_window);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tSEQUENCE ON: %1d\n&quot;, stat-&gt;drive.sequence);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tERROR: %1d\n&quot;, stat-&gt;drive.error);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tTRACE ON: %1d\n&quot;, stat-&gt;drive.trace);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tSEQUENCE THREAD ON: %1d\n&quot;, stat-&gt;drive.sequence_thread);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tWARNING: %1d\n&quot;, stat-&gt;drive.warning);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tSAVE_POS: %1d\n&quot;, stat-&gt;drive.save_pos);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tBREAKPOINT: %1d\n&quot;, stat-&gt;drive.breakpoint);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tUSER-BITS: 0x%x\n&quot;, stat-&gt;drive.user);</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a name="a6"></a><a class="code" href="group__DSAAll.html#ga70a69c2290bd38e89628d7a079a2dc89">dsa_is_valid_master</a>(dev)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;UltimET status: SW1:0x%x, SW2:0x%x\n&quot;</span>, stat-&gt;<a class="code" href="unionDSA__STATUS.html#a0968f77ec4842c58fd37e6d14a950e3e">raw</a>.<a class="code" href="structDsaStatusRawMode.html#a133c78e19a45d216870508c2e8bdb3d4">sw1</a>, stat-&gt;<a class="code" href="unionDSA__STATUS.html#a0968f77ec4842c58fd37e6d14a950e3e">raw</a>.<a class="code" href="structDsaStatusRawMode.html#a5f8132c87ec2db67d48c175184a6b52f">sw2</a>);</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">        //This piece of code will show the status in expanded way</span></div>
<div class="line"><span class="comment">        printf(&quot;\tPRESENT: %1d\n&quot;, stat-&gt;master.present);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tMOVING: %1d\n&quot;, stat-&gt;master.moving);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tSEQUENCE ON: %1d\n&quot;, stat-&gt;master.sequence);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tERROR: %1d&quot;, stat-&gt;master.error);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tTRACE ON: %1d\n&quot;, stat-&gt;master.trace);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tIPOL GRP 0 MOVING: %1d\n&quot;, stat-&gt;master.ipol0_moving);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tIPOL GRP 1 MOVING: %1d\n&quot;, stat-&gt;master.ipol1_moving);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tSEQUENCE THREAD ON: %1d\n&quot;, stat-&gt;ultimet.sequence_thread);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tWARNING: %1d\n&quot;, stat-&gt;master.warning);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tTRANSNET BROKEN: %1d\n&quot;, stat-&gt;master.transnet_broken);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tBREAKPOINT: %1d\n&quot;, stat-&gt;master.breakpoint);</span></div>
<div class="line"><span class="comment">        printf(&quot;\tUSER-BITS: 0x%x\n&quot;, stat-&gt;master.user);</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> err;</div>
<div class="line">    ebool open;</div>
<div class="line">    DSA_DRIVE   *axis = NULL;</div>
<div class="line">    DSA_MASTER  *ultimET = NULL;</div>
<div class="line">    <a class="code" href="unionDSA__STATUS.html">DSA_STATUS</a>  status = {<span class="keyword">sizeof</span>(<a class="code" href="unionDSA__STATUS.html">DSA_STATUS</a>)};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Create devices */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Drive &amp; UltimET creation.\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a7"></a><a class="code" href="group__DSAAll.html#gabb207b622ef11d41d9dfadf965e77200">dsa_create_drive</a>(&amp;axis)) {</div>
<div class="line">        DSA_EXT_DIAG(err, axis);</div>
<div class="line">        <span class="keywordflow">goto</span> _error;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a8"></a><a class="code" href="group__DSAAll.html#gad5ae47cdd1e4e82e9c33c778b597bcf6">dsa_create_master</a>(&amp;ultimET)) {</div>
<div class="line">        DSA_EXT_DIAG(err, ultimET);</div>
<div class="line">        <span class="keywordflow">goto</span> _error;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Drive &amp; UltimET are create.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Open connection */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Open connections in progress.\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a9"></a><a class="code" href="group__DSAAll.html#gac4f6cffd7dd579bcb9a7f60af5f6bb29">dsa_open_u</a>(axis, <span class="stringliteral">&quot;etb:UltimET:0&quot;</span>)) {</div>
<div class="line">        DSA_EXT_DIAG(err, axis);</div>
<div class="line">        <span class="keywordflow">goto</span> _error;</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;..........&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#gac4f6cffd7dd579bcb9a7f60af5f6bb29">dsa_open_u</a>(ultimET, <span class="stringliteral">&quot;etb:UltimET:*&quot;</span>)) {</div>
<div class="line">        DSA_EXT_DIAG(err, ultimET);</div>
<div class="line">        <span class="keywordflow">goto</span> _error;</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;..........&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nConnections are open.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Prepare the debug port with ETNE */</span></div>
<div class="line">    <span class="comment">/* Get the communication bus */</span></div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a10"></a><a class="code" href="group__DSAAll.html#ga462a7920ab6a43c757bc7a37450ef0ea">dsa_get_etb_bus</a>(ultimET, &amp;etb)) {</div>
<div class="line">        DSA_EXT_DIAG(err, ultimET);</div>
<div class="line">        <span class="keywordflow">goto</span> _error;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* Start the thread allowing the host connection */</span></div>
<div class="line">    <span class="keywordflow">if</span> (err = <a name="a11"></a><a class="code" href="group__ETNEAll.html#gad722579fe4b927e7b58666e8d1e5f4ac">etne_start_custom</a>(etb, HOST_CONNEXION_PORT, HOST_CONNEXION_NAME)) {</div>
<div class="line">        <span class="keywordflow">goto</span> _error;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* </span></div>
<div class="line"><span class="comment">     * Attach a routine which will be called at application exit.</span></div>
<div class="line"><span class="comment">     * It is safe to do this, because etne_stop_custom must be done in any case</span></div>
<div class="line"><span class="comment">     * This garantees the etne_stop_custom to be called, even on a process crash</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    atexit(etne_stop);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Debug communication port for ComET on UltimET is create.\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Now, you could connect ComET on \&quot;CUSTOMER DEBUG\&quot; port.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (!_kbhit()) {</div>
<div class="line">        <span class="comment">//Print out UltimET Status</span></div>
<div class="line">        <span class="keywordflow">if</span> (err = <a name="a12"></a><a class="code" href="group__DSAAll.html#ga46611e5eb643bf79451c24564861254a">dsa_get_status</a>(ultimET, &amp;status)) </div>
<div class="line">            DSA_EXT_DIAG(err, ultimET);</div>
<div class="line">        <span class="keywordflow">else</span> </div>
<div class="line">            deploy_status(ultimET, &amp;status);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//Print out Drive Status</span></div>
<div class="line">        <span class="keywordflow">if</span> (err = <a class="code" href="group__DSAAll.html#ga46611e5eb643bf79451c24564861254a">dsa_get_status</a>(axis, &amp;status)) {</div>
<div class="line">            DSA_EXT_DIAG(err, axis);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> </div>
<div class="line">            deploy_status(axis, &amp;status);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\nPress a key to stop process...\n&quot;</span>);</div>
<div class="line">        Sleep(5000);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* Close the connection. */</span></div>
<div class="line">    <a name="a13"></a><a class="code" href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a>(axis);</div>
<div class="line"> </div>
<div class="line"><span class="comment">    /****** IMPORTANT NOTICE ******</span></div>
<div class="line"><span class="comment">        *   Before closing the last  connection,</span></div>
<div class="line"><span class="comment">        *   it&#39;s important to close etb connection on ETNE!!</span></div>
<div class="line"><span class="comment">    ****** END OF IMPORTANT NOTICE ******/</span></div>
<div class="line">    <a class="code" href="group__ETNEAll.html#gabd97b49619cae9e5fb64d1912b6e4f8f">etne_stop_custom</a>(etb, HOST_CONNEXION_PORT);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Debug port has closed.\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Communication with ComET is loss if already connected!\n&quot;</span>);         <span class="comment">/* Close the connection. */</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Close the connection. */</span></div>
<div class="line">    <a class="code" href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a>(ultimET);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Finally, release all resources to the OS. */</span></div>
<div class="line">    <a name="a14"></a><a class="code" href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a>(&amp;axis);</div>
<div class="line">    <a class="code" href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a>(&amp;ultimET);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line"> </div>
<div class="line">_error:</div>
<div class="line">    <a class="code" href="group__ETNEAll.html#gabd97b49619cae9e5fb64d1912b6e4f8f">etne_stop_custom</a>(etb, HOST_CONNEXION_PORT);</div>
<div class="line">    <span class="comment">/* Is the drive pointer valid ? */</span></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__DSAAll.html#ga989fc7fbd7d3b76cb0e3853aca34d4f7">dsa_is_valid_drive</a>(axis)) {</div>
<div class="line">        <span class="comment">/* Is the drive open ? */</span></div>
<div class="line">        open = 0;</div>
<div class="line">        <a name="a15"></a><a class="code" href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a>(axis, &amp;open);</div>
<div class="line">        <span class="keywordflow">if</span>(open) {</div>
<div class="line">            <span class="comment">/* Close the connection. */</span></div>
<div class="line">            <a class="code" href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a>(axis);</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a>(&amp;axis);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__DSAAll.html#ga70a69c2290bd38e89628d7a079a2dc89">dsa_is_valid_master</a>(ultimET)) {</div>
<div class="line">        <span class="comment">/* Is the drive open ? */</span></div>
<div class="line">        open = 0;</div>
<div class="line">        <a class="code" href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a>(ultimET, &amp;open);</div>
<div class="line">        <span class="keywordflow">if</span>(open) {</div>
<div class="line">            <span class="comment">/* Close the connection. */</span></div>
<div class="line">            <a class="code" href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a>(ultimET);</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a>(&amp;ultimET);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__DSAAll_html_ga46611e5eb643bf79451c24564861254a"><div class="ttname"><a href="group__DSAAll.html#ga46611e5eb643bf79451c24564861254a">dsa_get_status</a></div><div class="ttdeci">int dsa_get_status(DSA_DEVICE *dev, DSA_STATUS *status)</div><div class="ttdoc">Get the drive status.</div><div class="ttdef"><b>Definition:</b> dsasta.c:1821</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga462a7920ab6a43c757bc7a37450ef0ea"><div class="ttname"><a href="group__DSAAll.html#ga462a7920ab6a43c757bc7a37450ef0ea">dsa_get_etb_bus</a></div><div class="ttdeci">int dsa_get_etb_bus(DSA_DEVICE *dev, ETB **etb)</div><div class="ttdoc">Get the etb bus pointer of this device.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1796</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga67a49a697906d25519c124c191a5654a"><div class="ttname"><a href="group__DSAAll.html#ga67a49a697906d25519c124c191a5654a">dsa_destroy</a></div><div class="ttdeci">int dsa_destroy(DSA_DEVICE_BASE **rdev)</div><div class="ttdoc">Destroy the dsa structure.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:932</div></div>
<div class="ttc" id="agroup__ETNEAll_html_gabd97b49619cae9e5fb64d1912b6e4f8f"><div class="ttname"><a href="group__ETNEAll.html#gabd97b49619cae9e5fb64d1912b6e4f8f">etne_stop_custom</a></div><div class="ttdeci">int _ETNE_EXPORT etne_stop_custom(ETB *bus, int custom_accept_port)</div><div class="ttdoc">Allow to disable connection for other process on specidied bus.</div><div class="ttdef"><b>Definition:</b> etne_start.c:529</div></div>
<div class="ttc" id="agroup__DSAAll_html_gabb207b622ef11d41d9dfadf965e77200"><div class="ttname"><a href="group__DSAAll.html#gabb207b622ef11d41d9dfadf965e77200">dsa_create_drive</a></div><div class="ttdeci">int dsa_create_drive(DSA_DRIVE **rdrv)</div><div class="ttdoc">Create the dsa drive structure.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:639</div></div>
<div class="ttc" id="agroup__DSAAll_html_gad5ae47cdd1e4e82e9c33c778b597bcf6"><div class="ttname"><a href="group__DSAAll.html#gad5ae47cdd1e4e82e9c33c778b597bcf6">dsa_create_master</a></div><div class="ttdeci">int dsa_create_master(DSA_MASTER **rmaster)</div><div class="ttdoc">Create the dsa master structure.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:688</div></div>
<div class="ttc" id="aunionDSA__STATUS_html"><div class="ttname"><a href="unionDSA__STATUS.html">DSA_STATUS</a></div><div class="ttdoc">Contains status of devices.</div><div class="ttdef"><b>Definition:</b> dsa40.h:1764</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga96470cb9eaebf9228ce362404fbe0078"><div class="ttname"><a href="group__DSAAll.html#ga96470cb9eaebf9228ce362404fbe0078">dsa_close</a></div><div class="ttdeci">int dsa_close(DSA_DEVICE *dev)</div><div class="ttdoc">Close a dsa device object.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1654</div></div>
<div class="ttc" id="agroup__ETNEAll_html_gad722579fe4b927e7b58666e8d1e5f4ac"><div class="ttname"><a href="group__ETNEAll.html#gad722579fe4b927e7b58666e8d1e5f4ac">etne_start_custom</a></div><div class="ttdeci">int _ETNE_EXPORT etne_start_custom(ETB *bus, int custom_accept_port, char *name)</div><div class="ttdoc">Allow to enable connection by other process on actually opened bus.</div><div class="ttdef"><b>Definition:</b> etne_start.c:439</div></div>
<div class="ttc" id="agroup__DSAAll_html_gac4f6cffd7dd579bcb9a7f60af5f6bb29"><div class="ttname"><a href="group__DSAAll.html#gac4f6cffd7dd579bcb9a7f60af5f6bb29">dsa_open_u</a></div><div class="ttdeci">int dsa_open_u(DSA_DEVICE *dev, char_cp url)</div><div class="ttdoc">Open a dsa device object.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1100</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga989fc7fbd7d3b76cb0e3853aca34d4f7"><div class="ttname"><a href="group__DSAAll.html#ga989fc7fbd7d3b76cb0e3853aca34d4f7">dsa_is_valid_drive</a></div><div class="ttdeci">ebool dsa_is_valid_drive(DSA_DRIVE *drv)</div><div class="ttdoc">Check if the given pointer is a valid drive pointer.</div><div class="ttdef"><b>Definition:</b> dsagrp.c:1262</div></div>
<div class="ttc" id="aunionDSA__STATUS_html_a0968f77ec4842c58fd37e6d14a950e3e"><div class="ttname"><a href="unionDSA__STATUS.html#a0968f77ec4842c58fd37e6d14a950e3e">DSA_STATUS::raw</a></div><div class="ttdeci">DsaStatusRawMode raw</div><div class="ttdoc">Status for raw access.</div><div class="ttdef"><b>Definition:</b> dsa40.h:1767</div></div>
<div class="ttc" id="aetne40_8h_html"><div class="ttname"><a href="etne40_8h.html">etne40.h</a></div><div class="ttdoc">EDI-Version : 4.25A This header file contains public declaration of etne library.</div></div>
<div class="ttc" id="astructDsaStatusRawMode_html_a5f8132c87ec2db67d48c175184a6b52f"><div class="ttname"><a href="structDsaStatusRawMode.html#a5f8132c87ec2db67d48c175184a6b52f">DsaStatusRawMode::sw2</a></div><div class="ttdeci">dword sw2</div><div class="ttdoc">Drive status SW2 in dword type.</div><div class="ttdef"><b>Definition:</b> dsa40.h:1505</div></div>
<div class="ttc" id="astructDsaStatusRawMode_html_a133c78e19a45d216870508c2e8bdb3d4"><div class="ttname"><a href="structDsaStatusRawMode.html#a133c78e19a45d216870508c2e8bdb3d4">DsaStatusRawMode::sw1</a></div><div class="ttdeci">dword sw1</div><div class="ttdoc">Drive status SW1 in dword type.</div><div class="ttdef"><b>Definition:</b> dsa40.h:1504</div></div>
<div class="ttc" id="agroup__DSAAll_html_ga70a69c2290bd38e89628d7a079a2dc89"><div class="ttname"><a href="group__DSAAll.html#ga70a69c2290bd38e89628d7a079a2dc89">dsa_is_valid_master</a></div><div class="ttdeci">ebool dsa_is_valid_master(DSA_MASTER *master)</div><div class="ttdoc">Check if the given pointer is a valid master pointer.</div><div class="ttdef"><b>Definition:</b> dsagrp.c:1275</div></div>
<div class="ttc" id="adsa40_8h_html"><div class="ttname"><a href="dsa40_8h.html">dsa40.h</a></div><div class="ttdoc">EDI-Version : 4.25A This header file contains public declarations for the high level library.</div></div>
<div class="ttc" id="agroup__DSAAll_html_gabca5df9b7fb98299c620827b88bb733c"><div class="ttname"><a href="group__DSAAll.html#gabca5df9b7fb98299c620827b88bb733c">dsa_is_open</a></div><div class="ttdeci">int dsa_is_open(DSA_DEVICE *dev, ebool *is_open)</div><div class="ttdoc">Return true if the device is open.</div><div class="ttdef"><b>Definition:</b> dsaopn.c:1700</div></div>
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright by <a href="http://www.etel.ch"><img class="footer" src="ETELLogo.gif" width="104" height="31" alt="ETEL"/></a> on Thu Aug 26 2021 </li>
  </ul>
</div>
</body>
</html>
